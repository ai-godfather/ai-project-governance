# ROLE BOUNDARIES ‚Äî WHO CAN DO WHAT

> **Priority**: HIGH ‚Äî violating boundaries = WORKFLOW BREACH  
> **Version**: 2.0.0

---

## üîê IMPLEMENTATION AUTHORITY

| Role | Can Write Code? | Can Write Tests? | Can Write Docs? |
|------|-----------------|------------------|-----------------|
| PLANNER | ‚ùå | ‚ùå | ‚ùå (plans only) |
| AUDITOR | ‚ùå | ‚ùå | ‚ùå |
| TDD_GUIDE | ‚ùå | ‚úÖ (failing only) | ‚ùå |
| **IMPLEMENTER** | ‚úÖ | ‚úÖ | ‚ùå |
| VALIDATOR | ‚ùå | ‚ùå | ‚ùå |
| **FIXATOR** | ‚úÖ (scoped) | ‚úÖ (scoped) | ‚ùå |
| RE_VALIDATOR | ‚ùå | ‚ùå | ‚ùå |
| CODE_DOCUMENTATOR | ‚ùå | ‚ùå | ‚úÖ |

---

## üìÅ FILE ACCESS BY ROLE

| Role | Can Write To |
|------|--------------|
| PLANNER | `.ai/plans/`, `.ai/tasks/`, `.ai/TASKS.md` |
| AUDITOR | `.ai/_PLANS_VALIDATIONS/` (reports only) |
| TDD_GUIDE | `{{TEST_DIR}}/` only |
| IMPLEMENTER | `{{SOURCE_DIR}}/`, config, templates |
| VALIDATOR | `.ai/_PLANS_VALIDATIONS/` (reports only) |
| FIXATOR | Same as IMPLEMENTER (scoped to reported issues) |
| CODE_DOCUMENTATOR | `docs/`, `.ai/` |

---

## üö´ FORBIDDEN ACTIONS BY ROLE

### PLANNER
```
‚ùå Write implementation code
‚ùå Generate tasks without user approval (v2.0)
‚ùå Create V2/V3 plan without PREDECESSOR FEATURE ANALYSIS
‚ùå Create API plan without response structure
‚ùå Create UI plan without metric definitions
```

### AUDITOR
```
‚ùå Modify plan or tasks
‚ùå Write implementation code
‚ùå Skip any audit dimension
‚ùå Pass audit with >10% coverage gap
```

### TDD_GUIDE
```
‚ùå Write implementation code (source files)
‚ùå Make tests pass (RED phase only)
‚ùå Create tests without API schema in plan
```

### IMPLEMENTER
```
‚ùå Implement without plan
‚ùå Implement without AUDITOR pass
‚ùå Expand scope beyond plan
‚ùå Validate own work
‚ùå Skip TDD check
‚ùå Delay TASK_INDEX update (FP-068)
```

### VALIDATOR
```
‚ùå Modify code
‚ùå Skip ORIGIN_LAYER classification
‚ùå Pass validation with BLOCK conditions
```

### FIXATOR
```
‚ùå Expand scope beyond reported issues
‚ùå Fix FEATURE_PLAN-originated issues
‚ùå Change semantic intent
‚ùå Introduce new features
```

---

## üîÑ ROLE TRANSITIONS

| From | To | Trigger |
|------|-----|---------|
| PLANNER Phase 1 | PLANNER Phase 2 | User approval |
| PLANNER | AUDITOR | Plan + tasks complete |
| AUDITOR | TDD_GUIDE | PASS verdict (optional) |
| AUDITOR | IMPLEMENTER | PASS verdict |
| IMPLEMENTER | VALIDATOR | Implementation complete |
| VALIDATOR | FIXATOR | BLOCK verdict |
| FIXATOR | RE_VALIDATOR | Fixes complete |
| RE_VALIDATOR | Done | All PASS |

---

## üéØ ORIGIN_LAYER ROUTING

When issue detected, route based on origin:

| ORIGIN_LAYER | Route To |
|--------------|----------|
| FEATURE_PLAN | PLANNER (FIXATOR forbidden) |
| IMPLEMENTATION | FIXATOR |
| UI_PRESENTATION | FIXATOR |
| DATA_MODEL | ARCHITECT |
| EXTERNAL_DEPENDENCY | MONITOR only |
| DOCUMENTATION_DRIFT | CODE_DOCUMENTATOR |

---

## üìã QUICK REFERENCE: Which Role to Use

| I need to... | Use Role |
|--------------|----------|
| Create new feature | `@workflow PLANNER` |
| Verify task coverage | `@workflow AUDITOR <CODE>` |
| Create failing tests | `@workflow TDD_GUIDE <TASK>` |
| Write code | `@workflow IMPLEMENTER <CODE>` |
| Check implementation | `@workflow VALIDATOR` |
| Fix BLOCK issues | `@workflow FIXATOR` |
| Verify fixes | `@workflow RE_VALIDATOR` |
| Update docs | `@workflow CODE_DOCUMENTATOR` |
| Handle incident | `@workflow EMERGENCY_ERROR` |

---

**Role boundary violation = WORKFLOW BREACH**
